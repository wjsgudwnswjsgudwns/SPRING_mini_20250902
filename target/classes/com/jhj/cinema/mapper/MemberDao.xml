<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <mapper namespace="com.jhj.cinema.dao.MemberDao">
    
    <insert id="joinMemberDao">
    	INSERT INTO cinemamember VALUES (#{param1},#{param2},#{param3},#{param4},#{param5},#{param6})
    </insert>
    
    <select id="loginDao" resultType="int">
    	SELECT COUNT(*) FROM cinemamember WHERE memberid=#{param1} AND memberpw=#{param2}
    </select>
    
    <select id="findpwDao" resultType="int" >
    	SELECT COUNT(*) 
	    FROM cinemamember 
	    WHERE memberid=#{memberid,jdbcType=VARCHAR} 
	      AND memberemail=#{memberemail,jdbcType=VARCHAR} 
	      AND memberphone=#{memberphone,jdbcType=VARCHAR}
    </select>
    
    <update id="changePwDao">
    	UPDATE cinemamember SET memberpw=#{param1} WHERE memberid=#{param2}
    </update>
    
    </mapper>